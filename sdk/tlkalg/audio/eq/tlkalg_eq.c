/********************************************************************************************************
 * @file     tlkalg_eq.c
 *
 * @brief    This is the source file for BTBLE SDK
 *
 * @author	 BTBLE GROUP
 * @date         2,2022
 *
 * @par     Copyright (c) 2021, Telink Semiconductor (Shanghai) Co., Ltd. ("TELINK")
 *
 *          Licensed under the Apache License, Version 2.0 (the "License");
 *          you may not use this file except in compliance with the License.
 *          You may obtain a copy of the License at
 *
 *              http://www.apache.org/licenses/LICENSE-2.0
 *
 *          Unless required by applicable law or agreed to in writing, software
 *          distributed under the License is distributed on an "AS IS" BASIS,
 *          WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *          See the License for the specific language governing permissions and
 *          limitations under the License.
 *******************************************************************************************************/
#include <nds_filtering_math.h>
#include "drivers.h"
#include "tlkapi/tlkapi_stdio.h"
#if TLK_ALG_EQ_ENABLE
#include "tlkalg_eq.h"


#define EQ_TEST_EN   0


eq_para_t eq_para = {0, 0, 0, 0};
eq_sys_t  eq_sys_para= {0};
//uint32_t nstage_cur = 0;

eq_para_t eq_set_para_table[7] =         ///default eq
{
		nstage_eq_music,	EQ_SAMPLE_RATE_48K,		EQ_CHANNEL_LEFT,	EQ_TYPE_MUSIC,			/// music  left
		nstage_eq_music,	EQ_SAMPLE_RATE_48K,		EQ_CHANNEL_RIGHT,	EQ_TYPE_MUSIC,			/// music  right

		nstage_eq_music,	EQ_SAMPLE_RATE_44P1K,	EQ_CHANNEL_LEFT,	EQ_TYPE_MUSIC,			/// music  left
		nstage_eq_music,	EQ_SAMPLE_RATE_44P1K,	EQ_CHANNEL_RIGHT,	EQ_TYPE_MUSIC,			/// music  right

		nstage_eq_speech_mic,	EQ_SAMPLE_RATE_16K,		EQ_CHANNEL_LEFT,	EQ_TYPE_VOICE_MIC,		/// speech  mic

		nstage_eq_speech_spk,	EQ_SAMPLE_RATE_16K,		EQ_CHANNEL_LEFT,	EQ_TYPE_VOICE_SPK,		/// music  right
		nstage_eq_speech_spk,	EQ_SAMPLE_RATE_16K,		EQ_CHANNEL_RIGHT,	EQ_TYPE_VOICE_SPK,		/// music  right
};

float32_t state_eq_speech_mic[4 * NSTAGE_EQ_SPEECH_MIC_MAX] = {0.0};
float32_t state_eq_speech_speaker_left[4 * NSTAGE_EQ_SPEECH_SPK_MAX] = {0.0};
float32_t state_eq_speech_speaker_right[4 * NSTAGE_EQ_SPEECH_SPK_MAX] = {0.0};

float32_t state_eq_music_left[4 * NSTAGE_EQ_MISIC_SPK_MAX] = {0.0};
float32_t state_eq_music_right[4 * NSTAGE_EQ_MISIC_SPK_MAX] = {0.0};

nds_bq_df1_f32_t instance_eq_music_right;
nds_bq_df1_f32_t instance_eq_music_left;
nds_bq_df1_f32_t instance_eq_speech_mic;
nds_bq_df1_f32_t instance_eq_speech_speaker_right;
nds_bq_df1_f32_t instance_eq_speech_speaker_left;

float32_t coeff_eq_speech_mic[5 * nstage_eq_speech_mic]={
			1,-1.98984742164612,0.990231096744537,1.98984742164612,-0.990231096744537, //50hz
		 1,-1.70690107345581,0.832982957363129,1.70690107345581,-0.832982957363129, //950hz
		 1,-1.28210616111755,0.715173006057739,1.28210616111755,-0.715173006057739, //1850hz
		 1,-0.772477388381958,0.638699114322662,0.772477388381958,-0.638699114322662, //2750hz
		};

float32_t coeff_eq_speech_speaker[5 * nstage_eq_speech_spk]={
			1,-1.98984742164612,0.990231096744537,1.98984742164612,-0.990231096744537, //50hz
		 1,-1.70690107345581,0.832982957363129,1.70690107345581,-0.832982957363129, //950hz
		 1,-1.28210616111755,0.715173006057739,1.28210616111755,-0.715173006057739, //1850hz
		 1,-0.772477388381958,0.638699114322662,0.772477388381958,-0.638699114322662, //2750hz
		};

#if !SOUNDBAR_EQ_EN
float32_t coeff_eq_music[5 * nstage_eq_music]={
		0.641315507164827,-1.276599943182477,0.635576025971789,1.977219207703750,-0.977670827070627,//150hz
		0.983146317605274,-1.896277815330497,0.925516368712182,1.896277815330497,-0.908662686317456,//800hz
		1.018304336102112,-1.823726756975888,0.907922907437080,1.823726756975888,-0.926227243539192,//2300hz
		0.765811941060125,-0.549372341991572,0.549199557503762,0.549372341991572,-0.315011498563887,//8000hz
		1.003711775896785,-1.985834512331222,0.985352001577454,1.985834512331222,-0.989063777474239,//400hz
		1.000661190971452,-1.997706663070697,0.997077914287511,1.997706663070697,-0.997739105258963,//40hz
		1.146341835423319,-1.165202515691840,0.522436558253714,1.165202515691840,-0.668778393677034,//5600hz
		1.081366997900438,-0.199579955157407,0.290135417898591,0.199579955157407,-0.371502415799029,//10000hz
		1.173619595324526,0.621475740306107,-0.015334962023055,-0.621475740306107,-0.158284633301471,//15000hz
};

#else

float32_t coeff_eq_music[5 * nstage_eq_music]={

		0.4674666667,		-0.8063800000,		0.4670459467,				1.6149000000,		-0.6775000000,
		0.6000000000,		-0.9928200000,		0.5960400000,				1.3206000000,		-0.4186000000,
		0.2000000000,		-0.1928000000,		0.1605000000,				1.6741000000,		-0.7791000000,
		0.0500000000,		0.0235500000,		0.0341800000,				1.7362000000,		-0.8802000000,
		0.0100000000,		0.0162460000,		0.0066790000,				1.7957000000,		-0.9627000000,

};
#endif
//nds_bq_df1_f32_t instance_eq_music_left = {nstage_eq_music, state_eq_music_left, coeff_eq_music};
//nds_bq_df1_f32_t instance_eq_music_right = {nstage_eq_music, state_eq_music_right, coeff_eq_music};

void eq_state_reset_all(void)
{
	my_dump_str_u32s (1, "eq_state_reset_all", 0, 0, 0, 0);

	tmemset (&state_eq_speech_mic, 0, sizeof (state_eq_speech_mic));
	tmemset (&state_eq_speech_speaker_left, 0, sizeof (state_eq_speech_speaker_left));
	tmemset (&state_eq_speech_speaker_right, 0, sizeof (state_eq_speech_speaker_right));
	tmemset (&state_eq_music_left, 0, sizeof (state_eq_music_left));
	tmemset (&state_eq_music_right, 0, sizeof (state_eq_music_right));
}

//my_ram_code
nds_bq_df1_f32_t *eq_proc_settimg_init(eq_para_t para)
{
	nds_bq_df1_f32_t *eq_tp = NULL;
	switch(para.eq_type)
	{
		case EQ_TYPE_MUSIC:
			if(para.eq_channel)
			{
				instance_eq_music_right.nstage = para.eq_nstage;
				instance_eq_music_right.state = state_eq_music_right;
				instance_eq_music_right.coeff = coeff_eq_music;
				eq_tp = &instance_eq_music_right;
			}
			else
			{
				instance_eq_music_left.nstage = para.eq_nstage;
				instance_eq_music_left.state = state_eq_music_left;
				instance_eq_music_left.coeff = coeff_eq_music;
				eq_tp = &instance_eq_music_left;
			}
			if(!eq_sys_para.music_indpd_lr)
			{
				instance_eq_music_left.nstage = para.eq_nstage;
				instance_eq_music_right.nstage = para.eq_nstage;
			}
			break;

		case EQ_TYPE_VOICE_MIC:
			{
				instance_eq_speech_mic.nstage = para.eq_nstage;
				instance_eq_speech_mic.state = state_eq_speech_mic;
				instance_eq_speech_mic.coeff = coeff_eq_speech_mic;
				eq_tp = &instance_eq_speech_mic;
			}
			break;

		case EQ_TYPE_VOICE_SPK:
			if(para.eq_channel)
			{
				instance_eq_speech_speaker_right.nstage = para.eq_nstage;
				instance_eq_speech_speaker_right.state = state_eq_speech_speaker_right;
				instance_eq_speech_speaker_right.coeff = coeff_eq_speech_speaker;
				eq_tp = &instance_eq_speech_speaker_right;
			}
			else
			{
				instance_eq_speech_speaker_left.nstage = para.eq_nstage;
				instance_eq_speech_speaker_left.state = state_eq_speech_speaker_left;
				instance_eq_speech_speaker_left.coeff = coeff_eq_speech_speaker;
				eq_tp = &instance_eq_speech_speaker_left;
			}
			if(!eq_sys_para.music_indpd_lr)
			{
				instance_eq_speech_speaker_left.nstage = para.eq_nstage;
				instance_eq_speech_speaker_right.nstage = para.eq_nstage;
			}
			break;
		default:
			eq_tp = NULL;
			break;
	}
	return eq_tp;
}

void eq_inf_load(uint32_t adr)
{
	if (adr)
	{
		eq_state_reset_all ();
	
		uint32_t flag;
		flash_read_page(adr, 4, &flag);
		if (0xFFFFFFFF == flag || !flag)
		{
#if 0
			audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN
								|CODEC_FLAG_EQ_VOICE_MIC_EN
								|CODEC_FLAG_EQ_VOICE_SPK_EN, 0);
			my_dump_str_data (DUMP_ACL_MSG, "EQ disable", 0, 0);
			return;
#else
			audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN, 1);
			for (int i = 0; i < 7; i++)
			{
				eq_proc_settimg_init(eq_set_para_table[i]);
			}
			audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN, 	 1);
			audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_MIC_EN, 1);
			audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_SPK_EN, 1);

			eq_sys_para.music_eq_en 	 = 1;
			eq_sys_para.speech_mic_eq_en = 1;
			eq_sys_para.speech_spl_eq_en = 1;
			eq_sys_para.music_eq_num 	  = nstage_eq_music;
			eq_sys_para.speech_mic_eq_num = nstage_eq_speech_mic;
			eq_sys_para.speech_spl_eq_num = nstage_eq_speech_spk;
			eq_sys_para.music_indpd_lr 		= 0;					//left and right is same.
			eq_sys_para.speech_spl_indpd_lr = 0;

			eq_para = eq_set_para_table[0];
			
			eq_para.eq_nstage   = nstage_eq_music;
			eq_para.eq_sample_rate = 0;
			eq_para.eq_channel     = EQ_CHANNEL_LEFT;
			eq_para.eq_type        = EQ_TYPE_MUSIC;
			eq_proc_settimg_init(eq_para);
			
			eq_para.eq_channel     = EQ_CHANNEL_RIGHT;
			eq_proc_settimg_init(eq_para);
			
			eq_para.eq_nstage   = nstage_eq_speech_mic;
			eq_para.eq_sample_rate = 0;
			eq_para.eq_channel     = 1;
			eq_para.eq_type        = EQ_TYPE_VOICE_MIC;
			eq_proc_settimg_init(eq_para);
			
			eq_para.eq_nstage   = nstage_eq_speech_spk;
			eq_para.eq_sample_rate = 2;
			eq_para.eq_channel     = EQ_CHANNEL_LEFT;
			eq_para.eq_type        = EQ_TYPE_VOICE_SPK;
			eq_proc_settimg_init(eq_para);

			my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ parameters are default", 0, 0);
			return;
#endif
		}

		static int eq_bank = EQ_FLASH_Bank;
		
		while (eq_bank--);
		{
			uint8_t tmp[256]= {0};
			flag = *(uint32_t *)(adr);
			if (flag && (flag != 0xFFFFFFFF))
			{
				tmemcpy (&eq_para, (uint32_t *)adr, sizeof (eq_para_t));
				
				if ((EQ_TYPE_MUSIC == eq_para.eq_type && eq_para.eq_nstage > nstage_eq_music)
				 	|| (EQ_TYPE_VOICE_MIC == eq_para.eq_type && eq_para.eq_nstage > nstage_eq_speech_mic)
					|| (EQ_TYPE_VOICE_SPK == eq_para.eq_type && eq_para.eq_nstage > nstage_eq_speech_spk)
					|| eq_para.eq_type > EQ_TYPE_VOICE_SPK
					|| eq_para.eq_channel > EQ_CHANNEL_RIGHT
					|| eq_para.eq_sample_rate > 2
				)
				{

					my_dump_str_u32s (DUMP_ACL_MSG, "#eq_inf_load, error head",
							eq_para.eq_nstage,
							eq_para.eq_sample_rate,
							eq_para.eq_channel,
							eq_para.eq_type);
					return;
				}
				
				tmemcpy (tmp, (uint32_t *)(adr+4), eq_para.eq_nstage*20);
				my_dump_str_data(DUMP_ACL_MSG, "EQ state2", tmp, eq_para.eq_nstage*20);
				int i = 0;

				float32_t *data_tp = (float32_t *)(tmp);

				switch (eq_para.eq_type)
				{
				case EQ_TYPE_MUSIC:
					{
						eq_proc_settimg_init(eq_para);
						if (eq_para.eq_channel)
						{
							for (i = 0; i < eq_para.eq_nstage*5; i++)
							{
								coeff_eq_music[i] = *(data_tp++);
							}
						}
						else
						{
							for (i = 0; i < eq_para.eq_nstage*5; i++)
							{
								coeff_eq_music[i] = *(data_tp++);
							}
						}
						//my_dump_str_data(DUMP_ACL_MSG, "EQ state3", coeff_eq_music, eq_para.eq_nstage*20);
						audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN, 1);
						eq_sys_para.music_indpd_lr = 0;
						eq_sys_para.music_eq_en    = 1;
						eq_sys_para.music_eq_num   = eq_para.eq_nstage;
						my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ is loaded for Music", &eq_sys_para, 8);
					}
					break;
				
				case EQ_TYPE_VOICE_MIC:
					{
						eq_proc_settimg_init(eq_para);
						for (i = 0; i < eq_para.eq_nstage*5; i++)
						{
							coeff_eq_speech_mic[i] = *(data_tp++);
						}
						audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_MIC_EN, 1);
						eq_sys_para.speech_mic_eq_en  = 1;
						eq_sys_para.speech_mic_eq_num = eq_para.eq_nstage;
						my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ is loaded for VOICE_MIC ", 0, 0);
					}
					break;
				
				case EQ_TYPE_VOICE_SPK:
					{
						eq_proc_settimg_init(eq_para);
						if (eq_para.eq_channel)
						{
							for (i = 0; i < eq_para.eq_nstage*5; i++)
							{
								coeff_eq_speech_speaker[i] = *(data_tp++);
							}
						}
						else
						{
							for (i = 0; i < eq_para.eq_nstage*5; i++)
							{
								coeff_eq_speech_speaker[i] = *(data_tp++);
							}
						}
						audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_SPK_EN, 1);
						eq_sys_para.speech_spl_indpd_lr = 0;
						eq_sys_para.speech_spl_eq_en    = 1;
						eq_sys_para.speech_spl_eq_num   = nstage_eq_speech_spk;
						my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ is loaded for VOICE_SPK ", 0, 0);
					}
					break;
				
				default:
					my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ parameters are not initialized", 0, 0);
					break;
				}
			}
			adr = adr + EQ_FLASH_Bank_SIZE;
		}
	}
	else
	{
		my_dump_str_data(DUMP_ACL_MSG, "EQ state : EQ addr are empty", 0, 0);
	}
}

void eq_state_reset(nds_bq_df1_f32_t* st)
{
//	for(int i=0;i<4*st->nstage;i++);
//	{
//		*(st->state++) =0.0f;
//	}
}

int eq_coef_load_ota (eq_para_t para, u8 *p)
{
	if (!p)
	{
		my_dump_str_u32s (DUMP_ACL_MSG, "#eq_coef_load_ota, error p",
					para.eq_nstage,
					para.eq_sample_rate,
					para.eq_channel,
					para.eq_type);
		return 1;
	}
	
	nds_bq_df1_f32_t *peq = NULL;
	float32_t *state_eq = NULL;

	if (EQ_TYPE_MUSIC == para.eq_type)
	{
		peq = EQ_CHANNEL_LEFT == para.eq_channel ? &instance_eq_music_left : &instance_eq_music_right;
		state_eq = EQ_CHANNEL_LEFT == para.eq_channel ? &state_eq_music_left : &state_eq_music_right;

		tmemset (state_eq, 0, sizeof (state_eq_music_left));
		
		audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN, para.eq_nstage?1:0);
		
		my_dump_str_u32s (DUMP_ACL_MSG, "@ eq_coef_load_ota, open MUISC EQ",
					para.eq_nstage,
					para.eq_sample_rate,
					para.eq_channel,
					para.eq_type);
	}
	else if (EQ_TYPE_VOICE_MIC == para.eq_type)
	{
		peq = &instance_eq_speech_mic;
		state_eq = &state_eq_speech_mic;
		
		tmemset (state_eq, 0, sizeof (state_eq_speech_mic));
		
		audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_MIC_EN, para.eq_nstage?1:0);

		my_dump_str_u32s (DUMP_ACL_MSG, "@ eq_coef_load_ota, open MIC EQ",
					para.eq_nstage,
					para.eq_sample_rate,
					para.eq_channel,
					para.eq_type);
	}
	else 
	{		
		my_dump_str_u32s (DUMP_ACL_MSG, "#eq_coef_load_ota, error eq_para.eq_type",
				para.eq_nstage,
				para.eq_sample_rate,
				para.eq_channel,
				para.eq_type);
		return 2;
	}
							
	peq->nstage = para.eq_nstage;

	tmemcpy (peq->coeff, p, para.eq_nstage * 20);

	return 0;
}

#define EQ_PROFILE 0

#if TLK_ALG_EQ_ENABLE

//my_ram_code  
void eq_proc_tws_music(eq_para_t para, signed short *ps, signed short *pd, unsigned int nsample, unsigned char shift)
{
	nds_bq_df1_f32_t *nds_bq_p = eq_proc_settimg_init(para);
	if (!(ps && pd && nds_bq_p) || nsample > 1024)
	{
		my_dump_str_u32s (DUMP_ACL_MSG, "# eq_proc_tws, error",
							ps,
							pd,
							nsample,
							nds_bq_p);

		return;
	}

//	my_dump_str_u32s (DUMP_ACL_MSG, "# eq_proc_tws_music, para",
//			eq_para_music.eq_channel,
//			eq_para_music.eq_nstage,
//			eq_para_music.eq_sample_rate,
//			eq_para_music.eq_type);

#if EQ_PROFILE
	int cyc1=__nds__csrr(NDS_MCYCLE);
#endif

	float x2[1024];				///TODO
	for (int i = 0; i < nsample; i++)
	{
		x2[i] = ps[i];
	}
	
	x2[0] = x2[0] ? x2[0]:0.01f;
	
	nds_bq_df1_f32(nds_bq_p, x2, x2, nsample);

	for (int i = 0; i < nsample; i++)
	{
		pd[i] = x2[i]<-32768?-32768:x2[i]>32767?32767:x2[i];
	}

#if EQ_PROFILE
	int cyc2=__nds__csrr(NDS_MCYCLE);
	int cyc_eq_float= cyc2-cyc1;
	my_dump_str_data(DUMP_ACL_MSG,"EQ_PROFILE", &cyc_eq_float, 4);
#endif

}

//my_ram_code  
void eq_proc_tws_speech(eq_para_t para, signed short *ps, signed short *pd, unsigned int nsample, unsigned char shift)
{
#define SAMPLE_MAX		240
	nds_bq_df1_f32_t *nds_bq_p = eq_proc_settimg_init(para);
	if (!(ps && pd && nds_bq_p) || nsample > SAMPLE_MAX)
	{
		my_dump_str_u32s (DUMP_ACL_MSG, "# eq_proc_tws, error",
							ps,
							pd,
							nsample,
							nds_bq_p);
		return;
	}
	
#if EQ_PROFILE
	int cyc1=__nds__csrr(NDS_MCYCLE);
#endif


	float x2[SAMPLE_MAX];				///TODO
	for (int i = 0; i < nsample; i++)
	{
		x2[i] = ps[i];
	}
	x2[0] = x2[0] ? x2[0]:0.01f;
	
	nds_bq_df1_f32(nds_bq_p, x2, x2, nsample);

	for (int i = 0; i < nsample; i++)
	{
		pd[i] = x2[i]<-32768?-32768:x2[i]>32767?32767:x2[i];
	}
#if EQ_PROFILE
	int cyc2=__nds__csrr(NDS_MCYCLE);
	int cyc_eq_float= cyc2-cyc1;
	my_dump_str_data(DUMP_ACL_MSG,"EQ_PROFILE", &cyc_eq_float, 4);
#endif

}

int my_debug_eq(unsigned char *p, int len)
{
	static para_lenth = 0;
	my_dump_str_data(1, "my_debug_eq", p, len);

	float32_t *data_tp = (float32_t *)(p+4);

	switch (p[0])
	{
	case 0x12:
		{
			tmemcpy (&eq_para, p+4, sizeof (eq_para_t));
			para_lenth = eq_para.eq_nstage*5;
			data_tp++;
//			nstage_cur = eq_para.eq_nstage;

			if (EQ_TYPE_MUSIC == eq_para.eq_type)
			{
				for (int i = 0; i < ((60-8)/4); i++)
				{
					coeff_eq_music[i] = *(data_tp++);
				}
				audio_codec_flag_set(CODEC_FLAG_EQ_MUSIC_EN, 1);
			}
			else if (EQ_TYPE_VOICE_SPK == eq_para.eq_type)
			{
				for (int i = 0; i < ((60-8)/4); i++)
				{
					coeff_eq_speech_speaker[i] = *(data_tp++);
				}
				audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_SPK_EN, 1);
			}
			else if (EQ_TYPE_VOICE_MIC == eq_para.eq_type)
			{
				for (int i = 0; i < ((60-8)/4); i++)
				{
					coeff_eq_speech_mic[i] = *(data_tp++);
				}
				audio_codec_flag_set(CODEC_FLAG_EQ_VOICE_MIC_EN, 1);
			}
			else 
			{
				my_dump_str_data(1, "my_debug_eq,type error", p, len);
			}
		}
		break;
	
	case 0x13:
		{
			if (EQ_TYPE_MUSIC == eq_para.eq_type)
			{
				for (int i = 0; i < ((60-4)/4); i++)
				{
					coeff_eq_music[i + 13] = *(data_tp ++);
				}
			}
			else if (EQ_TYPE_VOICE_SPK == eq_para.eq_type)    /// speech max =20
			{
				for (int i = 0; i < 7; i++)
				{
					coeff_eq_speech_speaker[i + 13] = *(data_tp ++);
				}
			}
			else if (EQ_TYPE_VOICE_MIC == eq_para.eq_type)
			{
				for (int i = 0; i < 7; i++)
				{
					coeff_eq_speech_mic[i + 13] = *(data_tp ++);
				}
			}
			else 
			{
				my_dump_str_data(1, "my_debug_eq,type error", p, len);
			}
		}
		break;
	
	case 0x14:
		{
			if (EQ_TYPE_MUSIC == eq_para.eq_type)
			{
				for (int i = 0; i < ((60-4)/4); i++)
				{
					coeff_eq_music[i + 27] = *(data_tp ++);
				}
			}
			else if (EQ_TYPE_VOICE_SPK == eq_para.eq_type)    /// speech max =20
			{

			}
			else if (EQ_TYPE_VOICE_MIC == eq_para.eq_type)
			{

			}
			else 
			{
				my_dump_str_data(1, "my_debug_eq,type error", p, len);
			}
		}
		break;
	case 0x15:
			{
				if (EQ_TYPE_MUSIC == eq_para.eq_type)
				{
					for (int i = 0; i < 9; i++)				//music max =50
					{
						coeff_eq_music[i + 41] = *(data_tp ++);
					}
				}
				else if (EQ_TYPE_VOICE_SPK == eq_para.eq_type)    /// speech max =20
				{

				}
				else if (EQ_TYPE_VOICE_MIC == eq_para.eq_type)
				{

				}
				else
				{
					my_dump_str_data(1, "my_debug_eq,type error", p, len);
				}
			}
			break;
	default:
		{
			my_dump_str_data(1, "my_debug_eq,error", p, len);
		}
		break;
	}

	return 0;
}

void eq_coeff_dump(void)
{
	for (int i = 0; i < 5 * nstage_eq_music; i++)
	{
		my_dump_str_u32s (1, "coeff_eq_music", i, (unsigned int)coeff_eq_music[i], 0, 0);
	}

	for (int i = 0; i < 5 * nstage_eq_speech_mic; i++)
	{
		my_dump_str_u32s (1, "coeff_eq_speech_mic", i, (unsigned int)coeff_eq_speech_mic[i], 0, 0);
	}
}

#endif



#if(EQ_TEST_EN)


//********** fre = 1 k **************
short data_in[192] = {0,2143,4276,6392,8480,10532,12539,14492,16383,18204,19947,21604,23169,24635,25995,27244,
28377,29387,30272,31028,31650,32137,32486,32696,32767,32696,32486,32137,31650,31028,30272,29387,
28377,27244,25995,24635,23169,21604,19947,18204,16383,14492,12539,10532,8480,6392,4276,2143,
0,-2143,-4276,-6392,-8480,-10532,-12539,-14492,-16383,-18204,-19947,-21604,-23169,-24635,-25995,-27244,
-28377,-29387,-30272,-31028,-31650,-32137,-32486,-32696,-32767,-32696,-32486,-32137,-31650,-31028,-30272,-29387,
-28377,-27244,-25995,-24635,-23169,-21604,-19947,-18204,-16383,-14492,-12539,-10532,-8480,-6392,-4276,-2143,
0,2143,4276,6392,8480,10532,12539,14492,16383,18204,19947,21604,23169,24635,25995,27244,
28377,29387,30272,31028,31650,32137,32486,32696,32767,32696,32486,32137,31650,31028,30272,29387,
28377,27244,25995,24635,23169,21604,19947,18204,16383,14492,12539,10532,8480,6392,4276,2143,
0,-2143,-4276,-6392,-8480,-10532,-12539,-14492,-16383,-18204,-19947,-21604,-23169,-24635,-25995,-27244,
-28377,-29387,-30272,-31028,-31650,-32137,-32486,-32696,-32767,-32696,-32486,-32137,-31650,-31028,-30272,-29387,
-28377,-27244,-25995,-24635,-23169,-21604,-19947,-18204,-16383,-14492,-12539,-10532,-8480,-6392,-4276,-2143,
};
short data_out[192];

#if 0
//********** fre = 1 k **************
short data_in[192] = {0,267,534,799,1060,1316,1567,1811,2047,2275,2493,2700,2896,3079,3249,3405,
3547,3673,3784,3878,3956,4017,4060,4087,4096,4087,4060,4017,3956,3878,3784,3673,
3547,3405,3249,3079,2896,2700,2493,2275,2048,1811,1567,1316,1060,799,534,267,
0,-267,-534,-799,-1060,-1316,-1567,-1811,-2047,-2275,-2493,-2700,-2896,-3079,-3249,-3405,
-3547,-3673,-3784,-3878,-3956,-4017,-4060,-4087,-4096,-4087,-4060,-4017,-3956,-3878,-3784,-3673,
-3547,-3405,-3249,-3079,-2896,-2700,-2493,-2275,-2048,-1811,-1567,-1316,-1060,-799,-534,-267,
0,267,534,799,1060,1316,1567,1811,2047,2275,2493,2700,2896,3079,3249,3405,
3547,3673,3784,3878,3956,4017,4060,4087,4096,4087,4060,4017,3956,3878,3784,3673,
3547,3405,3249,3079,2896,2700,2493,2275,2048,1811,1567,1316,1060,799,534,267,
0,-267,-534,-799,-1060,-1316,-1567,-1811,-2047,-2275,-2493,-2700,-2896,-3079,-3249,-3405,
-3547,-3673,-3784,-3878,-3956,-4017,-4060,-4087,-4096,-4087,-4060,-4017,-3956,-3878,-3784,-3673,
-3547,-3405,-3249,-3079,-2896,-2700,-2493,-2275,-2048,-1811,-1567,-1316,-1060,-799,-534,-267,
};
//********** fre = 2 k **************
short data_in[192] = {0,534,1060,1567,2047,2493,2896,3249,3547,3784,3956,4060,4096,4060,3956,3784,
3547,3249,2896,2493,2048,1567,1060,534,0,-534,-1060,-1567,-2047,-2493,-2896,-3249,
-3547,-3784,-3956,-4060,-4096,-4060,-3956,-3784,-3547,-3249,-2896,-2493,-2048,-1567,-1060,-534,
0,534,1060,1567,2047,2493,2896,3249,3547,3784,3956,4060,4096,4060,3956,3784,
3547,3249,2896,2493,2048,1567,1060,534,0,-534,-1060,-1567,-2047,-2493,-2896,-3249,
-3547,-3784,-3956,-4060,-4096,-4060,-3956,-3784,-3547,-3249,-2896,-2493,-2048,-1567,-1060,-534,
0,534,1060,1567,2047,2493,2896,3249,3547,3784,3956,4060,4096,4060,3956,3784,
3547,3249,2896,2493,2048,1567,1060,534,0,-534,-1060,-1567,-2047,-2493,-2896,-3249,
-3547,-3784,-3956,-4060,-4096,-4060,-3956,-3784,-3547,-3249,-2896,-2493,-2048,-1567,-1060,-534,
0,534,1060,1567,2047,2493,2896,3249,3547,3784,3956,4060,4096,4060,3956,3784,
3547,3249,2896,2493,2048,1567,1060,534,0,-534,-1060,-1567,-2047,-2493,-2896,-3249,
-3547,-3784,-3956,-4060,-4096,-4060,-3956,-3784,-3547,-3249,-2896,-2493,-2048,-1567,-1060,-534,
};
//********** fre = 3 k **************
short data_in[192] = {0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
0,799,1567,2275,2896,3405,3784,4017,4096,4017,3784,3405,2896,2275,1567,799,
0,-799,-1567,-2275,-2896,-3405,-3784,-4017,-4096,-4017,-3784,-3405,-2896,-2275,-1567,-799,
};
//********** fre = 4 k **************
short data_in[192] = {0,1060,2047,2896,3547,3956,4096,3956,3547,2896,2048,1060,0,-1060,-2047,-2896,
-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,0,1060,2047,2896,3547,3956,4096,3956,
3547,2896,2048,1060,0,-1060,-2047,-2896,-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,
0,1060,2047,2896,3547,3956,4096,3956,3547,2896,2048,1060,0,-1060,-2047,-2896,
-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,0,1060,2047,2896,3547,3956,4096,3956,
3547,2896,2048,1060,0,-1060,-2047,-2896,-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,
0,1060,2047,2896,3547,3956,4096,3956,3547,2896,2048,1060,0,-1060,-2047,-2896,
-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,0,1060,2047,2896,3547,3956,4096,3956,
3547,2896,2048,1060,0,-1060,-2047,-2896,-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,
0,1060,2047,2896,3547,3956,4096,3956,3547,2896,2048,1060,0,-1060,-2047,-2896,
-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,0,1060,2047,2896,3547,3956,4096,3956,
3547,2896,2048,1060,0,-1060,-2047,-2896,-3547,-3956,-4096,-3956,-3547,-2896,-2048,-1060,
};
//********** fre = 5 k **************
short data_in[192] = {0,1316,2493,3405,3956,4087,3784,3079,2048,799,-534,-1811,-2896,-3673,-4060,-4017,
-3547,-2700,-1567,-267,1060,2275,3249,3878,4096,3878,3249,2275,1060,-267,-1567,-2700,
-3547,-4017,-4060,-3673,-2896,-1811,-534,799,2047,3079,3784,4087,3956,3405,2493,1316,
0,-1316,-2493,-3405,-3956,-4087,-3784,-3079,-2048,-799,534,1811,2896,3673,4060,4017,
3547,2700,1567,267,-1060,-2275,-3249,-3878,-4096,-3878,-3249,-2275,-1060,267,1567,2700,
3547,4017,4060,3673,2896,1811,534,-799,-2047,-3079,-3784,-4087,-3956,-3405,-2493,-1316,
0,1316,2493,3405,3956,4087,3784,3079,2048,799,-534,-1811,-2896,-3673,-4060,-4017,
-3547,-2700,-1567,-267,1060,2275,3249,3878,4096,3878,3249,2275,1060,-267,-1567,-2700,
-3547,-4017,-4060,-3673,-2896,-1811,-534,799,2047,3079,3784,4087,3956,3405,2493,1316,
0,-1316,-2493,-3405,-3956,-4087,-3784,-3079,-2048,-799,534,1811,2896,3673,4060,4017,
3547,2700,1567,267,-1060,-2275,-3249,-3878,-4096,-3878,-3249,-2275,-1060,267,1567,2700,
3547,4017,4060,3673,2896,1811,534,-799,-2047,-3079,-3784,-4087,-3956,-3405,-2493,-1316,
};
//********** fre = 6 k **************
short data_in[192] = {0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
0,1567,2896,3784,4096,3784,2896,1567,0,-1567,-2896,-3784,-4096,-3784,-2896,-1567,
};
//********** fre = 7 k **************
short data_in[192] = {0,1811,3249,4017,3956,3079,1567,-267,-2047,-3405,-4060,-3878,-2896,-1316,534,2275,
3547,4087,3784,2700,1060,-799,-2493,-3673,-4096,-3673,-2493,-799,1060,2700,3784,4087,
3547,2275,534,-1316,-2896,-3878,-4060,-3405,-2048,-267,1567,3079,3956,4017,3249,1811,
0,-1811,-3249,-4017,-3956,-3079,-1567,267,2047,3405,4060,3878,2896,1316,-534,-2275,
-3547,-4087,-3784,-2700,-1060,799,2493,3673,4096,3673,2493,799,-1060,-2700,-3784,-4087,
-3547,-2275,-534,1316,2896,3878,4060,3405,2048,267,-1567,-3079,-3956,-4017,-3249,-1811,
0,1811,3249,4017,3956,3079,1567,-267,-2047,-3405,-4060,-3878,-2896,-1316,534,2275,
3547,4087,3784,2700,1060,-799,-2493,-3673,-4096,-3673,-2493,-799,1060,2700,3784,4087,
3547,2275,534,-1316,-2896,-3878,-4060,-3405,-2048,-267,1567,3079,3956,4017,3249,1811,
0,-1811,-3249,-4017,-3956,-3079,-1567,267,2047,3405,4060,3878,2896,1316,-534,-2275,
-3547,-4087,-3784,-2700,-1060,799,2493,3673,4096,3673,2493,799,-1060,-2700,-3784,-4087,
-3547,-2275,-534,1316,2896,3878,4060,3405,2048,267,-1567,-3079,-3956,-4017,-3249,-1811,
};
//********** fre = 8 k **************
short data_in[192] = {0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,
3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,
-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,
0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,
3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,
-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,
0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,
3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,
-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,
0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,
3547,2048,0,-2047,-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,
-3547,-4096,-3547,-2048,0,2047,3547,4096,3547,2048,0,-2047,-3547,-4096,-3547,-2048,
};
//********** fre = 9 k **************
short data_in[192] = {0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
0,2275,3784,4017,2896,799,-1567,-3405,-4096,-3405,-1567,799,2896,4017,3784,2275,
0,-2275,-3784,-4017,-2896,-799,1567,3405,4096,3405,1567,-799,-2896,-4017,-3784,-2275,
};
//********** fre = 10 k **************
short data_in[192] = {0,2493,3956,3784,2048,-534,-2896,-4060,-3547,-1567,1060,3249,4096,3249,1060,-1567,
-3547,-4060,-2896,-534,2047,3784,3956,2493,0,-2493,-3956,-3784,-2048,534,2896,4060,
3547,1567,-1060,-3249,-4096,-3249,-1060,1567,3547,4060,2896,534,-2047,-3784,-3956,-2493,
0,2493,3956,3784,2048,-534,-2896,-4060,-3547,-1567,1060,3249,4096,3249,1060,-1567,
-3547,-4060,-2896,-534,2047,3784,3956,2493,0,-2493,-3956,-3784,-2048,534,2896,4060,
3547,1567,-1060,-3249,-4096,-3249,-1060,1567,3547,4060,2896,534,-2047,-3784,-3956,-2493,
0,2493,3956,3784,2048,-534,-2896,-4060,-3547,-1567,1060,3249,4096,3249,1060,-1567,
-3547,-4060,-2896,-534,2047,3784,3956,2493,0,-2493,-3956,-3784,-2048,534,2896,4060,
3547,1567,-1060,-3249,-4096,-3249,-1060,1567,3547,4060,2896,534,-2047,-3784,-3956,-2493,
0,2493,3956,3784,2048,-534,-2896,-4060,-3547,-1567,1060,3249,4096,3249,1060,-1567,
-3547,-4060,-2896,-534,2047,3784,3956,2493,0,-2493,-3956,-3784,-2048,534,2896,4060,
3547,1567,-1060,-3249,-4096,-3249,-1060,1567,3547,4060,2896,534,-2047,-3784,-3956,-2493,
};
//********** fre = 11 k **************
short data_in[192] = {0,2700,4060,3405,1060,-1811,-3784,-3878,-2048,799,3249,4087,2896,267,-2493,-4017,
-3547,-1316,1567,3673,3956,2275,-534,-3079,-4096,-3079,-534,2275,3956,3673,1567,-1316,
-3547,-4017,-2493,267,2896,4087,3249,799,-2047,-3878,-3784,-1811,1060,3405,4060,2700,
0,-2700,-4060,-3405,-1060,1811,3784,3878,2048,-799,-3249,-4087,-2896,-267,2493,4017,
3547,1316,-1567,-3673,-3956,-2275,534,3079,4096,3079,534,-2275,-3956,-3673,-1567,1316,
3547,4017,2493,-267,-2896,-4087,-3249,-799,2047,3878,3784,1811,-1060,-3405,-4060,-2700,
0,2700,4060,3405,1060,-1811,-3784,-3878,-2048,799,3249,4087,2896,267,-2493,-4017,
-3547,-1316,1567,3673,3956,2275,-534,-3079,-4096,-3079,-534,2275,3956,3673,1567,-1316,
-3547,-4017,-2493,267,2896,4087,3249,799,-2047,-3878,-3784,-1811,1060,3405,4060,2700,
0,-2700,-4060,-3405,-1060,1811,3784,3878,2048,-799,-3249,-4087,-2896,-267,2493,4017,
3547,1316,-1567,-3673,-3956,-2275,534,3079,4096,3079,534,-2275,-3956,-3673,-1567,1316,
3547,4017,2493,-267,-2896,-4087,-3249,-799,2047,3878,3784,1811,-1060,-3405,-4060,-2700,
};
//********** fre = 12 k **************
short data_in[192] = {0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
0,2896,4096,2896,0,-2896,-4096,-2896,0,2896,4096,2896,0,-2896,-4096,-2896,
};
//********** fre = 13 k **************
short data_in[192] = {0,3079,4060,2275,-1060,-3673,-3784,-1316,2047,4017,3249,267,-2896,-4087,-2493,799,
3547,3878,1567,-1811,-3956,-3405,-534,2700,4096,2700,-534,-3405,-3956,-1811,1567,3878,
3547,799,-2493,-4087,-2896,267,3249,4017,2048,-1316,-3784,-3673,-1060,2275,4060,3079,
0,-3079,-4060,-2275,1060,3673,3784,1316,-2047,-4017,-3249,-267,2896,4087,2493,-799,
-3547,-3878,-1567,1811,3956,3405,534,-2700,-4096,-2700,534,3405,3956,1811,-1567,-3878,
-3547,-799,2493,4087,2896,-267,-3249,-4017,-2048,1316,3784,3673,1060,-2275,-4060,-3079,
0,3079,4060,2275,-1060,-3673,-3784,-1316,2047,4017,3249,267,-2896,-4087,-2493,799,
3547,3878,1567,-1811,-3956,-3405,-534,2700,4096,2700,-534,-3405,-3956,-1811,1567,3878,
3547,799,-2493,-4087,-2896,267,3249,4017,2048,-1316,-3784,-3673,-1060,2275,4060,3079,
0,-3079,-4060,-2275,1060,3673,3784,1316,-2047,-4017,-3249,-267,2896,4087,2493,-799,
-3547,-3878,-1567,1811,3956,3405,534,-2700,-4096,-2700,534,3405,3956,1811,-1567,-3878,
-3547,-799,2493,4087,2896,-267,-3249,-4017,-2048,1316,3784,3673,1060,-2275,-4060,-3079,
};
//********** fre = 14 k **************
short data_in[192] = {0,3249,3956,1567,-2047,-4060,-2896,534,3547,3784,1060,-2493,-4096,-2493,1060,3784,
3547,534,-2896,-4060,-2048,1567,3956,3249,0,-3249,-3956,-1567,2047,4060,2896,-534,
-3547,-3784,-1060,2493,4096,2493,-1060,-3784,-3547,-534,2896,4060,2048,-1567,-3956,-3249,
0,3249,3956,1567,-2047,-4060,-2896,534,3547,3784,1060,-2493,-4096,-2493,1060,3784,
3547,534,-2896,-4060,-2048,1567,3956,3249,0,-3249,-3956,-1567,2047,4060,2896,-534,
-3547,-3784,-1060,2493,4096,2493,-1060,-3784,-3547,-534,2896,4060,2048,-1567,-3956,-3249,
0,3249,3956,1567,-2047,-4060,-2896,534,3547,3784,1060,-2493,-4096,-2493,1060,3784,
3547,534,-2896,-4060,-2048,1567,3956,3249,0,-3249,-3956,-1567,2047,4060,2896,-534,
-3547,-3784,-1060,2493,4096,2493,-1060,-3784,-3547,-534,2896,4060,2048,-1567,-3956,-3249,
0,3249,3956,1567,-2047,-4060,-2896,534,3547,3784,1060,-2493,-4096,-2493,1060,3784,
3547,534,-2896,-4060,-2048,1567,3956,3249,0,-3249,-3956,-1567,2047,4060,2896,-534,
-3547,-3784,-1060,2493,4096,2493,-1060,-3784,-3547,-534,2896,4060,2048,-1567,-3956,-3249,
};
//********** fre = 15 k **************
short data_in[192] = {0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
0,3405,3784,799,-2896,-4017,-1567,2275,4096,2275,-1567,-4017,-2896,799,3784,3405,
0,-3405,-3784,-799,2896,4017,1567,-2275,-4096,-2275,1567,4017,2896,-799,-3784,-3405,
};



// full scale 32767 :

//********** fre = 1 k **************
short data_in[192] = {0,2143,4276,6392,8480,10532,12539,14492,16383,18204,19947,21604,23169,24635,25995,27244,
28377,29387,30272,31028,31650,32137,32486,32696,32767,32696,32486,32137,31650,31028,30272,29387,
28377,27244,25995,24635,23169,21604,19947,18204,16383,14492,12539,10532,8480,6392,4276,2143,
0,-2143,-4276,-6392,-8480,-10532,-12539,-14492,-16383,-18204,-19947,-21604,-23169,-24635,-25995,-27244,
-28377,-29387,-30272,-31028,-31650,-32137,-32486,-32696,-32767,-32696,-32486,-32137,-31650,-31028,-30272,-29387,
-28377,-27244,-25995,-24635,-23169,-21604,-19947,-18204,-16383,-14492,-12539,-10532,-8480,-6392,-4276,-2143,
0,2143,4276,6392,8480,10532,12539,14492,16383,18204,19947,21604,23169,24635,25995,27244,
28377,29387,30272,31028,31650,32137,32486,32696,32767,32696,32486,32137,31650,31028,30272,29387,
28377,27244,25995,24635,23169,21604,19947,18204,16383,14492,12539,10532,8480,6392,4276,2143,
0,-2143,-4276,-6392,-8480,-10532,-12539,-14492,-16383,-18204,-19947,-21604,-23169,-24635,-25995,-27244,
-28377,-29387,-30272,-31028,-31650,-32137,-32486,-32696,-32767,-32696,-32486,-32137,-31650,-31028,-30272,-29387,
-28377,-27244,-25995,-24635,-23169,-21604,-19947,-18204,-16383,-14492,-12539,-10532,-8480,-6392,-4276,-2143,
};
//********** fre = 2 k **************
short data_in[192] = {0,4276,8480,12539,16383,19947,23169,25995,28377,30272,31650,32486,32767,32486,31650,30272,
28377,25995,23169,19947,16383,12539,8480,4276,0,-4276,-8480,-12539,-16383,-19947,-23169,-25995,
-28377,-30272,-31650,-32486,-32767,-32486,-31650,-30272,-28377,-25995,-23169,-19947,-16383,-12539,-8480,-4276,
0,4276,8480,12539,16383,19947,23169,25995,28377,30272,31650,32486,32767,32486,31650,30272,
28377,25995,23169,19947,16383,12539,8480,4276,0,-4276,-8480,-12539,-16383,-19947,-23169,-25995,
-28377,-30272,-31650,-32486,-32767,-32486,-31650,-30272,-28377,-25995,-23169,-19947,-16383,-12539,-8480,-4276,
0,4276,8480,12539,16383,19947,23169,25995,28377,30272,31650,32486,32767,32486,31650,30272,
28377,25995,23169,19947,16383,12539,8480,4276,0,-4276,-8480,-12539,-16383,-19947,-23169,-25995,
-28377,-30272,-31650,-32486,-32767,-32486,-31650,-30272,-28377,-25995,-23169,-19947,-16383,-12539,-8480,-4276,
0,4276,8480,12539,16383,19947,23169,25995,28377,30272,31650,32486,32767,32486,31650,30272,
28377,25995,23169,19947,16383,12539,8480,4276,0,-4276,-8480,-12539,-16383,-19947,-23169,-25995,
-28377,-30272,-31650,-32486,-32767,-32486,-31650,-30272,-28377,-25995,-23169,-19947,-16383,-12539,-8480,-4276,
};
//********** fre = 3 k **************
short data_in[192] = {0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
0,6392,12539,18204,23169,27244,30272,32137,32767,32137,30272,27244,23169,18204,12539,6392,
0,-6392,-12539,-18204,-23169,-27244,-30272,-32137,-32767,-32137,-30272,-27244,-23169,-18204,-12539,-6392,
};
//********** fre = 4 k **************
short data_in[192] = {0,8480,16383,23169,28377,31650,32767,31650,28377,23169,16383,8480,0,-8480,-16383,-23169,
-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,0,8480,16383,23169,28377,31650,32767,31650,
28377,23169,16383,8480,0,-8480,-16383,-23169,-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,
0,8480,16383,23169,28377,31650,32767,31650,28377,23169,16383,8480,0,-8480,-16383,-23169,
-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,0,8480,16383,23169,28377,31650,32767,31650,
28377,23169,16383,8480,0,-8480,-16383,-23169,-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,
0,8480,16383,23169,28377,31650,32767,31650,28377,23169,16383,8480,0,-8480,-16383,-23169,
-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,0,8480,16383,23169,28377,31650,32767,31650,
28377,23169,16383,8480,0,-8480,-16383,-23169,-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,
0,8480,16383,23169,28377,31650,32767,31650,28377,23169,16383,8480,0,-8480,-16383,-23169,
-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,0,8480,16383,23169,28377,31650,32767,31650,
28377,23169,16383,8480,0,-8480,-16383,-23169,-28377,-31650,-32767,-31650,-28377,-23169,-16383,-8480,
};
//********** fre = 5 k **************
short data_in[192] = {0,10532,19947,27244,31650,32696,30272,24635,16383,6392,-4276,-14492,-23169,-29387,-32486,-32137,
-28377,-21604,-12539,-2143,8480,18204,25995,31028,32767,31028,25995,18204,8480,-2143,-12539,-21604,
-28377,-32137,-32486,-29387,-23169,-14492,-4276,6392,16383,24635,30272,32696,31650,27244,19947,10532,
0,-10532,-19947,-27244,-31650,-32696,-30272,-24635,-16383,-6392,4276,14492,23169,29387,32486,32137,
28377,21604,12539,2143,-8480,-18204,-25995,-31028,-32767,-31028,-25995,-18204,-8480,2143,12539,21604,
28377,32137,32486,29387,23169,14492,4276,-6392,-16383,-24635,-30272,-32696,-31650,-27244,-19947,-10532,
0,10532,19947,27244,31650,32696,30272,24635,16383,6392,-4276,-14492,-23169,-29387,-32486,-32137,
-28377,-21604,-12539,-2143,8480,18204,25995,31028,32767,31028,25995,18204,8480,-2143,-12539,-21604,
-28377,-32137,-32486,-29387,-23169,-14492,-4276,6392,16383,24635,30272,32696,31650,27244,19947,10532,
0,-10532,-19947,-27244,-31650,-32696,-30272,-24635,-16383,-6392,4276,14492,23169,29387,32486,32137,
28377,21604,12539,2143,-8480,-18204,-25995,-31028,-32767,-31028,-25995,-18204,-8480,2143,12539,21604,
28377,32137,32486,29387,23169,14492,4276,-6392,-16383,-24635,-30272,-32696,-31650,-27244,-19947,-10532,
};
//********** fre = 6 k **************
short data_in[192] = {0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
0,12539,23169,30272,32767,30272,23169,12539,0,-12539,-23169,-30272,-32767,-30272,-23169,-12539,
};
//********** fre = 7 k **************
short data_in[192] = {0,14492,25995,32137,31650,24635,12539,-2143,-16383,-27244,-32486,-31028,-23169,-10532,4276,18204,
28377,32696,30272,21604,8480,-6392,-19947,-29387,-32767,-29387,-19947,-6392,8480,21604,30272,32696,
28377,18204,4276,-10532,-23169,-31028,-32486,-27244,-16383,-2143,12539,24635,31650,32137,25995,14492,
0,-14492,-25995,-32137,-31650,-24635,-12539,2143,16383,27244,32486,31028,23169,10532,-4276,-18204,
-28377,-32696,-30272,-21604,-8480,6392,19947,29387,32767,29387,19947,6392,-8480,-21604,-30272,-32696,
-28377,-18204,-4276,10532,23169,31028,32486,27244,16383,2143,-12539,-24635,-31650,-32137,-25995,-14492,
0,14492,25995,32137,31650,24635,12539,-2143,-16383,-27244,-32486,-31028,-23169,-10532,4276,18204,
28377,32696,30272,21604,8480,-6392,-19947,-29387,-32767,-29387,-19947,-6392,8480,21604,30272,32696,
28377,18204,4276,-10532,-23169,-31028,-32486,-27244,-16383,-2143,12539,24635,31650,32137,25995,14492,
0,-14492,-25995,-32137,-31650,-24635,-12539,2143,16383,27244,32486,31028,23169,10532,-4276,-18204,
-28377,-32696,-30272,-21604,-8480,6392,19947,29387,32767,29387,19947,6392,-8480,-21604,-30272,-32696,
-28377,-18204,-4276,10532,23169,31028,32486,27244,16383,2143,-12539,-24635,-31650,-32137,-25995,-14492,
};
//********** fre = 8 k **************
short data_in[192] = {0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,
28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,
-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,
0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,
28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,
-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,
0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,
28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,
-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,
0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,
28377,16383,0,-16383,-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,
-28377,-32767,-28377,-16383,0,16383,28377,32767,28377,16383,0,-16383,-28377,-32767,-28377,-16383,
};
//********** fre = 9 k **************
short data_in[192] = {0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
0,18204,30272,32137,23169,6392,-12539,-27244,-32767,-27244,-12539,6392,23169,32137,30272,18204,
0,-18204,-30272,-32137,-23169,-6392,12539,27244,32767,27244,12539,-6392,-23169,-32137,-30272,-18204,
};
//********** fre = 10 k **************
short data_in[192] = {0,19947,31650,30272,16383,-4276,-23169,-32486,-28377,-12539,8480,25995,32767,25995,8480,-12539,
-28377,-32486,-23169,-4276,16383,30272,31650,19947,0,-19947,-31650,-30272,-16383,4276,23169,32486,
28377,12539,-8480,-25995,-32767,-25995,-8480,12539,28377,32486,23169,4276,-16383,-30272,-31650,-19947,
0,19947,31650,30272,16383,-4276,-23169,-32486,-28377,-12539,8480,25995,32767,25995,8480,-12539,
-28377,-32486,-23169,-4276,16383,30272,31650,19947,0,-19947,-31650,-30272,-16383,4276,23169,32486,
28377,12539,-8480,-25995,-32767,-25995,-8480,12539,28377,32486,23169,4276,-16383,-30272,-31650,-19947,
0,19947,31650,30272,16383,-4276,-23169,-32486,-28377,-12539,8480,25995,32767,25995,8480,-12539,
-28377,-32486,-23169,-4276,16383,30272,31650,19947,0,-19947,-31650,-30272,-16383,4276,23169,32486,
28377,12539,-8480,-25995,-32767,-25995,-8480,12539,28377,32486,23169,4276,-16383,-30272,-31650,-19947,
0,19947,31650,30272,16383,-4276,-23169,-32486,-28377,-12539,8480,25995,32767,25995,8480,-12539,
-28377,-32486,-23169,-4276,16383,30272,31650,19947,0,-19947,-31650,-30272,-16383,4276,23169,32486,
28377,12539,-8480,-25995,-32767,-25995,-8480,12539,28377,32486,23169,4276,-16383,-30272,-31650,-19947,
};
//********** fre = 11 k **************
short data_in[192] = {0,21604,32486,27244,8480,-14492,-30272,-31028,-16383,6392,25995,32696,23169,2143,-19947,-32137,
-28377,-10532,12539,29387,31650,18204,-4276,-24635,-32767,-24635,-4276,18204,31650,29387,12539,-10532,
-28377,-32137,-19947,2143,23169,32696,25995,6392,-16383,-31028,-30272,-14492,8480,27244,32486,21604,
0,-21604,-32486,-27244,-8480,14492,30272,31028,16383,-6392,-25995,-32696,-23169,-2143,19947,32137,
28377,10532,-12539,-29387,-31650,-18204,4276,24635,32767,24635,4276,-18204,-31650,-29387,-12539,10532,
28377,32137,19947,-2143,-23169,-32696,-25995,-6392,16383,31028,30272,14492,-8480,-27244,-32486,-21604,
0,21604,32486,27244,8480,-14492,-30272,-31028,-16383,6392,25995,32696,23169,2143,-19947,-32137,
-28377,-10532,12539,29387,31650,18204,-4276,-24635,-32767,-24635,-4276,18204,31650,29387,12539,-10532,
-28377,-32137,-19947,2143,23169,32696,25995,6392,-16383,-31028,-30272,-14492,8480,27244,32486,21604,
0,-21604,-32486,-27244,-8480,14492,30272,31028,16383,-6392,-25995,-32696,-23169,-2143,19947,32137,
28377,10532,-12539,-29387,-31650,-18204,4276,24635,32767,24635,4276,-18204,-31650,-29387,-12539,10532,
28377,32137,19947,-2143,-23169,-32696,-25995,-6392,16383,31028,30272,14492,-8480,-27244,-32486,-21604,
};
//********** fre = 12 k **************
short data_in[192] = {0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
0,23169,32767,23169,0,-23169,-32767,-23169,0,23169,32767,23169,0,-23169,-32767,-23169,
};
//********** fre = 13 k **************
short data_in[192] = {0,24635,32486,18204,-8480,-29387,-30272,-10532,16383,32137,25995,2143,-23169,-32696,-19947,6392,
28377,31028,12539,-14492,-31650,-27244,-4276,21604,32767,21604,-4276,-27244,-31650,-14492,12539,31028,
28377,6392,-19947,-32696,-23169,2143,25995,32137,16383,-10532,-30272,-29387,-8480,18204,32486,24635,
0,-24635,-32486,-18204,8480,29387,30272,10532,-16383,-32137,-25995,-2143,23169,32696,19947,-6392,
-28377,-31028,-12539,14492,31650,27244,4276,-21604,-32767,-21604,4276,27244,31650,14492,-12539,-31028,
-28377,-6392,19947,32696,23169,-2143,-25995,-32137,-16383,10532,30272,29387,8480,-18204,-32486,-24635,
0,24635,32486,18204,-8480,-29387,-30272,-10532,16383,32137,25995,2143,-23169,-32696,-19947,6392,
28377,31028,12539,-14492,-31650,-27244,-4276,21604,32767,21604,-4276,-27244,-31650,-14492,12539,31028,
28377,6392,-19947,-32696,-23169,2143,25995,32137,16383,-10532,-30272,-29387,-8480,18204,32486,24635,
0,-24635,-32486,-18204,8480,29387,30272,10532,-16383,-32137,-25995,-2143,23169,32696,19947,-6392,
-28377,-31028,-12539,14492,31650,27244,4276,-21604,-32767,-21604,4276,27244,31650,14492,-12539,-31028,
-28377,-6392,19947,32696,23169,-2143,-25995,-32137,-16383,10532,30272,29387,8480,-18204,-32486,-24635,
};
//********** fre = 14 k **************
short data_in[192] = {0,25995,31650,12539,-16383,-32486,-23169,4276,28377,30272,8480,-19947,-32767,-19947,8480,30272,
28377,4276,-23169,-32486,-16383,12539,31650,25995,0,-25995,-31650,-12539,16383,32486,23169,-4276,
-28377,-30272,-8480,19947,32767,19947,-8480,-30272,-28377,-4276,23169,32486,16383,-12539,-31650,-25995,
0,25995,31650,12539,-16383,-32486,-23169,4276,28377,30272,8480,-19947,-32767,-19947,8480,30272,
28377,4276,-23169,-32486,-16383,12539,31650,25995,0,-25995,-31650,-12539,16383,32486,23169,-4276,
-28377,-30272,-8480,19947,32767,19947,-8480,-30272,-28377,-4276,23169,32486,16383,-12539,-31650,-25995,
0,25995,31650,12539,-16383,-32486,-23169,4276,28377,30272,8480,-19947,-32767,-19947,8480,30272,
28377,4276,-23169,-32486,-16383,12539,31650,25995,0,-25995,-31650,-12539,16383,32486,23169,-4276,
-28377,-30272,-8480,19947,32767,19947,-8480,-30272,-28377,-4276,23169,32486,16383,-12539,-31650,-25995,
0,25995,31650,12539,-16383,-32486,-23169,4276,28377,30272,8480,-19947,-32767,-19947,8480,30272,
28377,4276,-23169,-32486,-16383,12539,31650,25995,0,-25995,-31650,-12539,16383,32486,23169,-4276,
-28377,-30272,-8480,19947,32767,19947,-8480,-30272,-28377,-4276,23169,32486,16383,-12539,-31650,-25995,
};
//********** fre = 15 k **************
short data_in[192] = {0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
0,27244,30272,6392,-23169,-32137,-12539,18204,32767,18204,-12539,-32137,-23169,6392,30272,27244,
0,-27244,-30272,-6392,23169,32137,12539,-18204,-32767,-18204,12539,32137,23169,-6392,-30272,-27244,
};

#endif

#define DEBUG_OUT(s)     uart1_debug_str(s,sizeof(s))
void  eq_test(void)
{
	int i;
	int max_in,max_out;

	unsigned long t1,t2,t;
	t1 = read_csr(NDS_MCYCLE);//stimer_get_tick();
	eq_proc_tws(data_in,data_out,192,0);
	t2 = read_csr(NDS_MCYCLE);//stimer_get_tick();
    t = t2 - t1;

	max_in = 0;
	max_out = 0;
	for(i=0;i<192;i++)
	{
		if(data_in[i]>max_in) max_in = data_in[i];

		if(data_out[i] > max_out) max_out = data_out[i];
	}

	DEBUG_OUT("\n\nsys ticker=:");
	uart1_debug_hex(t,4);
	DEBUG_OUT("\ndata_in max:");
	uart1_debug_hex(max_in,4);
	DEBUG_OUT("\ndata_out max:");
	uart1_debug_hex(max_out,4);


}
#endif

#endif
